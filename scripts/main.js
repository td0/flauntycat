"use strict";function off_ajax(){return $.ajax({dataType:"json",url:"https://raw.githubusercontent.com/td0/floret-snitcher/master/output/officials.json",success:function(e,a,t){thm_officials=e}})}function cre_ajax(){return $.ajax({dataType:"json",url:"https://raw.githubusercontent.com/td0/floret-snitcher/master/output/creators.json",success:function(e,a,t){thm_creators=e}})}function showHome(e){render(e,template("home"),!e.init)}function showOfficials(e){render(e,template("officials"),!e.init)}function showCreators(e){render(e,template("creators"),!e.init)}function showSearch(e){render(e,template("search"),!e.init)}function showTheme(e){render(e,template("theme"),!e.init)}function render(e,a,t){$(".mdl-layout__content").animate({scrollTop:0},300,"swing");var r=document.getElementById("content");t?(r.classList.add("hide"),setTimeout(function(){r.innerHTML=a,r.classList.remove("hide","transition"),fillPage(e)},150)):(r.innerHTML=a,setTimeout(function(){fillPage(e)},3e3))}function template(e){return $("#"+e+"-page").html()}function fillPage(e){switch(e.params[0]){case"/":fillhome();break;case"/officials":case"officials":fillOfficials(e.querystring);break;case"/creators":case"creators":fillCreators(e.querystring);break;case"/search":case"search":fillSearch(e.querystring);break;case"/theme":case"theme":fillTheme(e.querystring)}}function fillhome(){for(var e="",a="",t=Array(24),r=0;r<12;r++)e='\n      <div class="mdl-cell mdl-cell--2-col mdl-card mdl-shadow--2dp theme-card" id="off_'+r+'">\n        <div class="mdl-card__title mdl-card--expand"></div>\n          <a href="/theme?ofc='+(r+ofcRand)+'">\n            <div class="mdl-card__actions">\n              <span class="card-image__themename" id="off_name'+r+'">'+idx_ofc[r+ofcRand]+"</span>\n            </div>\n          </a>\n      </div>",a='\n      <div class="mdl-cell mdl-cell--2-col mdl-card mdl-shadow--2dp theme-card" id="cre_'+r+'">\n        <div class="mdl-card__title mdl-card--expand"></div>\n          <a href="/theme?crt='+(r+creRand)+'">\n            <div class="mdl-card__actions">\n              <span class="card-image__themename" id="cre_name'+r+'">'+idx_crt[r+creRand]+"</span>\n            </div>\n          </a>\n      </div>",$("#theme-officials").append(e),$("#theme-creators").append(a),t[r]=thm_templates.img.thumb.replace("<THEME_ID>",thm_officials[idx_ofc[r+ofcRand]]),t[r+12]=thm_templates.img.thumb.replace("<THEME_ID>",thm_creators[idx_crt[r+creRand]]),$("#off_"+r).css("background","url('"+t[r]+"') center / cover"),$("#cre_"+r).css("background","url('"+t[r+12]+"') center / cover"),$("#official-link").attr("href","officials?p="+(Math.floor(ofcRand/24)+1)),$("#creators-link").attr("href","creators?p="+(Math.floor(creRand/24)+1))}function fillOfficials(e){var a=""!=e?e.split("&")[0].split("="):["p",1],t=0;"p"!=a[0]||isNaN(a[1])||(t=24*(parseInt(a[1],10)-1));for(var r="",n=[],i=0+t;i<24+t&&i<idx_ofc.length;i++)r='<div class="mdl-cell mdl-cell--2-col mdl-card mdl-shadow--2dp theme-card" id="ofc_'+i+'">\n        <div class="mdl-card__title mdl-card--expand"></div>\n          <a href="/theme?ofc='+i+'">\n            <div class="mdl-card__actions">\n              <span class="card-image__themename" id="off_name'+i+'">'+idx_ofc[i]+"</span>\n            </div>\n          </a>\n      </div>",$("#theme-officials").append(r),n[i]=thm_templates.img.thumb.replace("<THEME_ID>",thm_officials[idx_ofc[i]]),$("#ofc_"+i).css("background","url('"+n[i]+"') center / cover");paginator(a[1],idx_ofc.length,"officials?")}function fillCreators(e){var a=""!=e?e.split("&")[0].split("="):["p",1],t=0;"p"!=a[0]||isNaN(a[1])||(t=24*(parseInt(a[1],10)-1));for(var r="",n=[],i=0+t;i<24+t&&i<idx_crt.length;i++)r='<div class="mdl-cell mdl-cell--2-col mdl-card mdl-shadow--2dp theme-card" id="crt_'+i+'">\n        <div class="mdl-card__title mdl-card--expand"></div>\n          <a href="/theme?crt='+i+'">\n            <div class="mdl-card__actions">\n              <span class="card-image__themename" id="crt_name'+i+'">'+idx_crt[i]+"</span>\n            </div>\n          </a>\n      </div>",$("#theme-creators").append(r),n[i]=thm_templates.img.thumb.replace("<THEME_ID>",thm_creators[idx_crt[i]]),$("#crt_"+i).css("background","url('"+n[i]+"') center / cover");paginator(a[1],idx_crt.length,"creators?")}function fillSearch(e){var a,t=e.split("&"),r=t[0].split("=");a=t.length>1?t[1].split("="):["p",1];var n=0;if("q"!=r[0])return page("/"),"QS ERROR";"p"!=a[0]||isNaN(a[1])||(n=24*(parseInt(a[1])-1)),r=r[1],$("input[name='sample']").val(r),$(".mdl-textfield--expandable").addClass("is-focused");var i=fuzzy.filter(r,idx_all);if(i.length>0)for(var o,c="",s="",l=Array(i.length),d=0+n;d<i.length&&d<24+n;d++)i[d].index<214?(s="ofc",o=i[d].index):(s="crt",o=i[d].index-214),c='<div class="mdl-cell mdl-cell--2-col mdl-card mdl-shadow--2dp theme-card" id="qry_'+d+'">\n        <div class="mdl-card__title mdl-card--expand"></div>\n          <a href="/theme?'+s+"="+o+'">\n            <div class="mdl-card__actions">\n              <span class="card-image__themename" id="qry_name'+d+'">'+idx_all[i[d].index]+"</span>\n            </div>\n          </a>\n        </div>",$("#theme-search").append(c),l[d]="ofc"==s?thm_templates.img.thumb.replace("<THEME_ID>",thm_officials[idx_ofc[o]]):thm_templates.img.thumb.replace("<THEME_ID>",thm_creators[idx_crt[o]]),$("#qry_"+d).css("background","url('"+l[d]+"') center / cover");var m='<b style="color:green">Search ';m+=i.length>1?"results </b>: ":"result </b>: ",m+=i.length,$("#search-result").html(m),paginator(a[1],i.length,"search?q="+r+"&")}function fillTheme(e){var a=e.split("&")[0].split("=");if("ofc"==a[0])a[0]=idx_ofc[a[1]],a[1]=thm_officials[idx_ofc[a[1]]];else{if("crt"!=a[0])return page("/"),"QS ERROR";a[0]=idx_crt[a[1]],a[1]=thm_creators[idx_crt[a[1]]]}$(".theme-thumb").attr("src",thm_templates.img.thumb.replace("<THEME_ID>",a[1])),$("#theme-name").html(a[0]);for(var t=0;t<5;t++)$("#img-full-"+(t+1)).attr("src",thm_templates.img[t].replace("<THEME_ID>",a[1]));$(".android-button").off(),$(".ios-button").off(),$(".android-button").on("click",function(){var e=document.querySelector("#toast-download"),t={message:"Downloading "+a[0]+" theme Android version..."};e.MaterialSnackbar.showSnackbar(t),window.location.replace(thm_templates.dlink.replace("<THEME_ID>",a[1]).replace("<DEVICE_PLATFORM>","ANDROID"))}),$(".ios-button").on("click",function(){var e=document.querySelector("#toast-download"),t={message:'Downloading "'+a[0]+'" theme iOS version...'};e.MaterialSnackbar.showSnackbar(t),window.location.replace(thm_templates.dlink.replace("<THEME_ID>",a[1]).replace("<DEVICE_PLATFORM>","IOS"))})}function paginator(e,a,t){var r=$(".page-next"),n=$(".page-prev"),i=Math.floor(a/24)+1;1==e&&n.prop("disabled",!0),e==i&&r.prop("disabled",!0),$(".pagination-indicator").html("page "+e+"/"+i),r.off(),n.off(),r.on("click",function(){1==e&&n.prop("disabled",!1),e++,page(t+"p="+e)}),n.on("click",function(){e==i&&r.prop("disabled",!1),e--,page(t+"p="+e)})}function toggleDrawer(e){$(".mdl-layout__drawer-button").trigger()}var loading_gif="/images/loading"+Math.floor(7*Math.random())+".gif",loading_words=["Amazing things come to those who wait.","Glorious things are waiting for you. We're just getting them ready.","You look nice today","Don't wait for the perfect moment. Take the moment and make it perfect","Don't wait for opportunity. Create it.","If you spend your whole life waiting for the storm, you'll never enjoy the sunshine","A good day to you fine user!"],loading_screen=pleaseWait({logo:loading_gif,backgroundColor:"#2E7D32",loadingHtml:'<p class="loading-message">'+loading_words[Math.floor(7*Math.random())]+'</p><br /><br />\n                <div class="spinner">\n                  <div class="dot1"></div>\n                  <div class="dot2"></div>\n                </div>'}),thm_officials={},thm_creators={},idx_ofc=[],idx_crt=[],idx_all=[],thm_templates={dlink:"http://dl.shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/<DEVICE_PLATFORM>/theme.zip",img:{0:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/ANDROID/en/preview_001_720x1232.png",1:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/ANDROID/en/preview_002_720x1232.png",2:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/ANDROID/en/preview_003_720x1232.png",3:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/ANDROID/en/preview_004_720x1232.png",4:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/ANDROID/en/preview_005_720x1232.png",thumb:"https://sdl-shop.line.naver.jp/themeshop/v1/products/<THEME_ID>/WEBSTORE/icon_136x190.png"}};$.when(off_ajax(),cre_ajax()).done(function(){idx_ofc=Object.keys(thm_officials),idx_crt=Object.keys(thm_creators),idx_all=idx_ofc.concat(idx_crt),page.base("/flauntycat/"),page("*",function(e,a){var t=document.querySelector("#content");e.init?a():(t.classList.add("transition"),setTimeout(function(){a()},150))}),page("/",showHome),page("officials",showOfficials),page("creators",showCreators),page("search",showSearch),page("theme",showTheme),page({click:!0,popstate:!0,dispatch:!0,decodeURLComponents:!0,hashbang:!0}),loading_screen.finish()});var ofcRand=Math.floor(202*Math.random()),creRand=Math.floor(8387*Math.random());$("input[name='sample']").on("keyup",function(e){var a=$(this).val().trim();if(""!=a&&13==e.which)if(a.length>=3)page("/search?q="+encodeURI(a));else{var t=document.querySelector("#toast-download"),r={message:"Please type 3 characters or more.."};t.MaterialSnackbar.showSnackbar(r)}});